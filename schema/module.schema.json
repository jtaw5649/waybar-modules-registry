{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Waybar Module",
  "type": "object",
  "required": ["uuid", "name", "description", "author", "category", "version", "repo_url"],
  "additionalProperties": false,
  "properties": {
    "uuid": {
      "type": "string",
      "pattern": "^[a-z0-9][a-z0-9-]*@[a-z0-9][a-z0-9-]*$",
      "minLength": 3,
      "maxLength": 100
    },
    "name": {
      "type": "string",
      "minLength": 3,
      "maxLength": 50
    },
    "description": {
      "type": "string",
      "minLength": 10,
      "maxLength": 500
    },
    "author": {
      "type": "string",
      "minLength": 1,
      "maxLength": 100
    },
    "category": {
      "type": "string",
      "enum": ["system", "hardware", "network", "audio", "power", "time", "workspace", "window", "tray", "weather", "productivity", "media", "custom"]
    },
    "version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+(-[a-zA-Z0-9.]+)?$"
    },
    "repo_url": {
      "type": "string",
      "format": "uri",
      "pattern": "^https://github\\.com/[^/]+/[^/]+$"
    },
    "icon": {
      "type": ["string", "null"]
    },
    "screenshot": {
      "type": ["string", "null"],
      "format": "uri"
    },
    "license": {
      "type": ["string", "null"],
      "maxLength": 50
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string",
        "minLength": 1,
        "maxLength": 30
      },
      "maxItems": 10,
      "uniqueItems": true
    },
    "downloads": {
      "type": "integer",
      "minimum": 0
    }
  }
}
